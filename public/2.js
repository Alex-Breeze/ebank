webpackJsonp([2],{315:function(t,a,i){var o=i(316);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i(3)("2da13f0d",o,!0,{})},316:function(t,a,i){(t.exports=i(2)(!1)).push([t.i,".card[data-v-afaa1900]{min-width:180px}.content-space[data-v-afaa1900]{padding:0 .5rem;height:7.3rem;text-align:right;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.content-space-icon[data-v-afaa1900]{font-size:3rem}.fade-enter-active[data-v-afaa1900]{-webkit-transition:opacity 1s;transition:opacity 1s}.fade-enter[data-v-afaa1900],.fade-leave-to[data-v-afaa1900]{opacity:0}.order-notify-clear[data-v-afaa1900]{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}",""])},317:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var o=i(318),n=i.n(o);a.default={data:function(){return{sum_today:{today_unified_count:{name:"支付订单数量",sum:"",icon:"trending_up",title:"已支付并且有效的订单",backgroundColor:"#F0AD4E"},today_unified_amount:{name:"支付订单金额",sum:"",icon:"account_balance",title:"已支付并且有效的订单",backgroundColor:"#F0AD4E"},today_unified_un_pay_count:{name:"待支付数量",sum:"",icon:"trending_up",title:"未支付的新订单",backgroundColor:"#F0AD4E"},today_unified_un_pay_amount:{name:"待支付金额",sum:"",icon:"account_balance",title:"未支付的新订单",backgroundColor:"#F0AD4E"},today_withdraw_count:{name:"提现数量",sum:"",icon:"trending_up",title:"申请提现成功",backgroundColor:"#00A98E"},today_withdraw_amount:{name:"提现金额",sum:"",icon:"account_balance_wallet",title:"申请提现成功",backgroundColor:"#00A98E"},today_withdraw_un_count:{name:"提现待处理数量",sum:"",icon:"trending_up",title:"申请提现中",backgroundColor:"#5CB85C"},today_withdraw_un_amount:{name:"提现待处理金额",sum:"",icon:"account_balance_wallet",title:"申请提现中",backgroundColor:"#5CB85C"},today_new_user_count:{name:"用户新增",sum:"",icon:"person",title:"新钱包数据",backgroundColor:"#337AB7"},today_transfer:{name:"流水记录",sum:"",icon:"swap_horiz",title:"有效转账记录",backgroundColor:"#32C24D"},today_behavior_count:{name:"接口调用",sum:"",icon:"check_circle",title:"商户API请求次数",backgroundColor:"#4CAF50"},today_behavior_error_count:{name:"接口错误",sum:"",icon:"bug_report",title:"商户API未成功返回",backgroundColor:"#D9534F"}},sum_yesterday:{yesterday_unified_count:{name:"支付订单数量",sum:"",icon:"trending_up",title:"已支付并且有效的订单",backgroundColor:"#F0AD4E"},yesterday_unified_amount:{name:"支付订单金额",sum:"",icon:"account_balance",title:"已支付并且有效的订单",backgroundColor:"#F0AD4E"},yesterday_unified_un_pay_count:{name:"待支付数量",sum:"",icon:"trending_up",title:"未支付的新订单",backgroundColor:"#F0AD4E"},yesterday_unified_un_pay_amount:{name:"待支付金额",sum:"",icon:"account_balance",title:"未支付的新订单",backgroundColor:"#F0AD4E"},yesterday_withdraw_count:{name:"提现数量",sum:"",icon:"trending_up",title:"申请提现成功",backgroundColor:"#00A98E"},yesterday_withdraw_amount:{name:"提现金额",sum:"",icon:"account_balance_wallet",title:"申请提现成功",backgroundColor:"#00A98E"},yesterday_withdraw_un_count:{name:"提现待处理数量",sum:"",icon:"trending_up",title:"申请提现中",backgroundColor:"#5CB85C"},yesterday_withdraw_un_amount:{name:"提现待处理金额",sum:"",icon:"account_balance_wallet",title:"申请提现中",backgroundColor:"#5CB85C"},yesterday_new_user_count:{name:"用户新增",sum:"",icon:"person",title:"新钱包数据",backgroundColor:"#337AB7"},yesterday_transfer:{name:"流水记录",sum:"",icon:"swap_horiz",title:"有效转账记录",backgroundColor:"#32C24D"},yesterday_behavior_count:{name:"接口调用",sum:"",icon:"check_circle",title:"商户API请求次数",backgroundColor:"#4CAF50"},yesterday_behavior_error_count:{name:"接口错误",sum:"",icon:"bug_report",title:"商户API未成功返回",backgroundColor:"#D9534F"}},order_notify:[]}},methods:{order_unnotify:function(){var t=this;t.$API.get("/index/order_unnotify").then(function(a){t.order_notify=a}).catch(function(t){})},today:function(){var t=this;t.$API.get("/index/sum_today").then(function(a){for(var i in t.sum_today)t.sum_today[i].sum=a[i].sum}).catch(function(t){})},yesterday:function(){var t=this;t.$API.get("/index/sum_yesterday").then(function(a){for(var i in t.sum_yesterday)t.sum_yesterday[i].sum=a[i].sum}).catch(function(t){})},notify:function(t){var a=this;mdui.confirm("请求重新进入通知队列，如果多次失败请检查队列(queue)服务配置，点击【确定】继续","手动发起异步通知",function(){a.$API.post("/order/notify",{id:t}).then(function(t){mdui.alert("已重新分发通知任务",function(){},{history:!1}),a.order_unnotify()}).catch(function(t){})},function(){},{history:!1,confirmText:"确定",cancelText:"取消"})}},mounted:function(){this.today(),this.yesterday(),this.order_unnotify()},components:{NumberGrow:n.a}}},318:function(t,a,i){var o=i(1)(i(321),i(322),!1,function(t){i(319)},null,null);t.exports=o.exports},319:function(t,a,i){var o=i(320);"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);i(3)("2da0a0e9",o,!0,{})},320:function(t,a,i){(t.exports=i(2)(!1)).push([t.i,".number-grow-warp{-webkit-transform:translateZ(0);transform:translateZ(0)}",""])},321:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default={props:{time:{type:Number,default:1},value:""},data:function(){return{number:"--"}},watch:{value:function(t,a){this.numberGrow()}},methods:{numberGrow:function(){if(""!==this.value)var t=this,a=(t.value.toString().split(".")[1]||0).length,i=10*t.value/(1e3*t.time),o=0,n=setInterval(function(){if((o+=i)>=t.value)return t.number=t.value,void clearInterval(n);t.number=o.toFixed(a).toString().replace(/(\d)(?=(?:\d{3}[+]?)+$)/g,"$1,")},10)}}}},322:function(t,a){t.exports={render:function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"number-grow-warp"},[a("span",{ref:"numberGrow",staticClass:"number-grow",attrs:{"data-time":this.time,"data-value":this.value},domProps:{textContent:this._s(this.number)}})])},staticRenderFns:[]}},323:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("transition",{attrs:{appear:"",name:"fade"}},[i("div",{staticClass:"welcome"},[i("div",{staticClass:"mdui-toolbar mdui-color-teal"},[i("i",{staticClass:"mdui-icon material-icons"},[t._v("visibility")]),t._v(" "),i("span",[t._v("今日实时数据统计")]),t._v(" "),i("div",{staticClass:"mdui-toolbar-spacer"}),t._v(" "),i("a",{staticClass:"mdui-btn mdui-ripple mdui-btn-icon",on:{click:t.today}},[i("i",{staticClass:"mdui-icon material-icons"},[t._v("refresh")])])]),t._v(" "),t.sum_today?i("div",{staticClass:"card-group mdui-p-t-2"},[i("div",{staticClass:"mdui-row-xs-2 mdui-row-sm-3 mdui-row-md-4 mdui-row-lg-5 mdui-row-xl-6"},t._l(t.sum_today,function(a,o){return i("div",{staticClass:"mdui-col"},[i("div",{staticClass:"mdui-card mdui-m-b-2 card"},[i("div",{staticClass:"mdui-card-media"},[i("div",{staticClass:"mdui-valign content-space"},[i("i",{staticClass:"mdui-icon material-icons content-space-icon",style:{color:a.backgroundColor}},[t._v(t._s(a.icon))])]),t._v(" "),i("div",{staticClass:"mdui-card-media-covered mdui-card-media-covered-transparent"},[i("div",{staticClass:"mdui-card-primary"},[i("div",{staticClass:"mdui-card-primary-title mdui-text-color-red-300"},[i("number-grow",{attrs:{value:a.sum}})],1),t._v(" "),i("div",{staticClass:"mdui-card-primary-subtitle mdui-text-color-black",domProps:{textContent:t._s(a.name)}}),t._v(" "),i("div",{staticClass:"mdui-typo-caption mdui-typo-caption-opacity mdui-text-color-grey-700",domProps:{textContent:t._s(a.title)}})])])])])])}))]):t._e(),t._v(" "),i("div",{staticClass:"mdui-toolbar mdui-color-indigo"},[i("i",{staticClass:"mdui-icon material-icons"},[t._v("save")]),t._v(" "),i("span",[t._v("昨日数据统计")]),t._v(" "),i("div",{staticClass:"mdui-toolbar-spacer"})]),t._v(" "),t.sum_yesterday?i("div",{staticClass:"card-group mdui-p-t-2"},[i("div",{staticClass:"mdui-row-xs-2 mdui-row-sm-3 mdui-row-md-4 mdui-row-lg-5 mdui-row-xl-6"},t._l(t.sum_yesterday,function(a,o){return i("div",{staticClass:"mdui-col"},[i("div",{staticClass:"mdui-card mdui-m-b-2 card"},[i("div",{staticClass:"mdui-card-media"},[i("div",{staticClass:"mdui-valign content-space"},[i("i",{staticClass:"mdui-icon material-icons content-space-icon",style:{color:a.backgroundColor}},[t._v(t._s(a.icon))])]),t._v(" "),i("div",{staticClass:"mdui-card-media-covered mdui-card-media-covered-transparent"},[i("div",{staticClass:"mdui-card-primary"},[i("div",{staticClass:"mdui-card-primary-title mdui-text-color-red-300"},[i("number-grow",{attrs:{value:a.sum}})],1),t._v(" "),i("div",{staticClass:"mdui-card-primary-subtitle mdui-text-color-black",domProps:{textContent:t._s(a.name)}}),t._v(" "),i("div",{staticClass:"mdui-typo-caption mdui-typo-caption-opacity mdui-text-color-grey-700",domProps:{textContent:t._s(a.title)}})])])])])])}))]):t._e(),t._v(" "),i("div",{staticClass:"order-notify"},[i("div",{class:{"mdui-toolbar":!0,"mdui-color-pink":t.order_notify.length>0,"mdui-color-green":t.order_notify.length<=0}},[i("a",{staticClass:"mdui-btn mdui-btn-icon"},[i("i",{staticClass:"mdui-icon material-icons"},[t._v("error_outline")])]),t._v(" "),i("span",{attrs:{title:"此数据为最新20条，详情请在订单管理中筛选查看，请及时处理"}},[t._v("支付成功但未成功通知商户订单")]),t._v(" "),i("div",{staticClass:"mdui-toolbar-spacer"}),t._v(" "),i("a",{staticClass:"mdui-btn mdui-ripple mdui-btn-icon",on:{click:t.order_unnotify}},[i("i",{staticClass:"mdui-icon material-icons"},[t._v("refresh")])])]),t._v(" "),i("table",{staticClass:"mdui-table"},[i("thead",[i("tr",[i("th",[t._v("订单ID")]),t._v(" "),i("th",[t._v("订单号")]),t._v(" "),i("th",[t._v("金额(分)")]),t._v(" "),i("th",[t._v("支付时间")]),t._v(" "),i("th",[t._v("操作")])])]),t._v(" "),i("tbody",[t.order_notify.length>0?t._l(t.order_notify,function(a,o){return i("tr",[i("td",{domProps:{textContent:t._s(a.id)}}),t._v(" "),i("td",{domProps:{textContent:t._s(a.order_no)}}),t._v(" "),i("td",{domProps:{textContent:t._s(a.amount)}}),t._v(" "),i("td",{domProps:{textContent:t._s(a.pay_time)}}),t._v(" "),i("td",[i("a",{staticClass:"mdui-btn mdui-ripple mdui-color-pink",on:{click:function(i){t.notify(a.id)}}},[t._v("手动通知")])])])}):[i("tr",[i("td",{attrs:{colspan:"5"}},[i("div",{staticClass:"mdui-p-y-2 mdui-valign order-notify-clear"},[i("span",{staticClass:"mdui-m-r-1"},[t._v("服务正常工作中")]),i("i",{staticClass:"mdui-icon material-icons mdui-text-color-orange"},[t._v("sentiment_satisfied")])])])])]],2)])])])])},staticRenderFns:[]}},371:function(t,a,i){var o=i(1)(i(317),i(323),!1,function(t){i(315)},"data-v-afaa1900",null);t.exports=o.exports}});