webpackJsonp([6],{303:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{list:[],user_type:"",purse_type:"",merchant:"",form:"",max:1e3,dialog:"",keyword:{page:1,name:"",merchant_id:1,reason:""}}},watch:{"form.out_user_type_id":function(t,e){this.add_purse_change()},"form.out_purse_type_id":function(t,e){this.add_purse_change()},"form.into_user_type_id":function(t,e){this.add_purse_change()},"form.into_purse_type_id":function(t,e){this.add_purse_change()}},methods:{add:function(t){var e=this;e.dialog.open(),get("/transfer/reason_detail",{id:t},function(t){e.form=t.detail,e.max=t.max})},add_submit:function(){var t=this;post("/transfer/reason",t.form,function(){t.dialog.close(),t.init()})},del:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){var e=this;mdui.confirm("删除后数据不可恢复，确认删除请点击【确定】按钮","确认？",function(){del("/transfer/reason",{id:t},function(){e.init()})},function(){},{history:!1,confirmText:"确定",cancelText:"取消"})}),search:function(t){this.keyword.page=t,this.init()},tab_change:function(t){this.keyword.page=1,this.keyword.merchant_id=t,this.init()},add_purse_change:function(){var t=this.form;!t.id&&t.out_user_type_id&&t.out_purse_type_id&&t.into_user_type_id&&t.into_purse_type_id&&(t.reason=this.max+""+t.out_user_type_id.padStart(2,"0")+t.out_purse_type_id.padStart(2,"0")+t.merchant_id+t.into_user_type_id.padStart(2,"0")+t.into_purse_type_id.padStart(2,"0"))},init:function(){var t=this;get("/transfer/reason",t.keyword,function(e){t.list=e.list,t.merchant=e.merchant,t.user_type=e.user_type,t.purse_type=e.purse_type,setTimeout(function(){$(".mdui-tab").mutation()},0)})}},mounted:function(){this.dialog=new mdui.Dialog(".dialog_add",{history:!1}),this.init()}}},304:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"transfer_reason"},[a("div",{staticClass:"mdui-typo"},[a("blockquote",{staticClass:"blockquote_normal"},[a("a",{staticClass:"mdui-btn mdui-ripple mdui-color-theme",on:{click:function(e){t.add(0)}}},[a("i",{staticClass:"mdui-icon mdui-icon-left material-icons"},[t._v("add")]),t._v("添加")])]),t._v(" "),a("div",{staticClass:"mdui-divider"}),t._v(" "),a("blockquote",{staticClass:"blockquote_normal"},[a("p",[t._v("\n\t\t\t\t转账行为名称："),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword.name,expression:"keyword.name"}],staticClass:"mdui-textfield-input input_normal",attrs:{type:"text"},domProps:{value:t.keyword.name},on:{input:function(e){e.target.composing||t.$set(t.keyword,"name",e.target.value)}}}),t._v("\n\t\t\t\treason："),a("input",{directives:[{name:"model",rawName:"v-model",value:t.keyword.reason,expression:"keyword.reason"}],staticClass:"mdui-textfield-input input_normal",attrs:{type:"text"},domProps:{value:t.keyword.reason},on:{input:function(e){e.target.composing||t.$set(t.keyword,"reason",e.target.value)}}})]),t._v(" "),a("a",{staticClass:"mdui-btn mdui-ripple mdui-color-theme",on:{click:function(e){t.search(1)}}},[a("i",{staticClass:"mdui-icon mdui-icon-left material-icons"},[t._v("search")]),t._v("搜索")])])]),t._v(" "),a("div",{staticClass:"mdui-tab",attrs:{"mdui-tab":""}},t._l(t.merchant,function(e,i,s){return a("a",{class:{"mdui-btn":!0,"mdui-ripple":!0,"mdui-tab-active":0==s},attrs:{href:"#tab_"+s},domProps:{textContent:t._s(e)},on:{click:function(e){t.tab_change(i)}}})})),t._v(" "),a("div",{staticClass:"mdui-table-fluid"},[a("table",{staticClass:"mdui-table mdui-table-hoverable"},[t._m(0),t._v(" "),a("tbody",[t._l(t.list.data,function(e,i){return[a("tr",{class:{"mdui-color-grey-200":!0}},[a("td",[a("span",{domProps:{textContent:t._s("#"+(i+1))}})]),t._v(" "),a("td",[a("span",{domProps:{textContent:t._s(e.id)}})]),t._v(" "),a("td",[a("span",{domProps:{textContent:t._s(t.merchant[e.merchant_id])}})]),t._v(" "),a("td",[a("span",{domProps:{textContent:t._s(e.name)}})]),t._v(" "),a("td",[a("span",{domProps:{textContent:t._s(e.reason)}})]),t._v(" "),a("td",[a("span",{domProps:{textContent:t._s(e.created_at)}})]),t._v(" "),a("td",[a("span",{domProps:{textContent:t._s(e.updated_at)}})]),t._v(" "),a("td",[a("div",{staticClass:"mdui-btn-group"},[a("a",{staticClass:"mdui-btn mdui-ripple mdui-color-theme",on:{click:function(a){t.add(e.id)}}},[t._v("修改")]),t._v(" "),a("a",{staticClass:"mdui-btn mdui-ripple mdui-color-deep-orange",on:{click:function(a){t.del(e.id)}}},[t._v("删除")])])])]),t._v(" "),a("tr",[a("td"),t._v(" "),a("td",[t._v("出账身份："),a("span",{staticClass:"mdui-text-color-deep-orange"},[t._v(t._s(t.user_type[e.out_user_type_id]))])]),t._v(" "),a("td",[t._v("出账钱包："),a("span",{staticClass:"mdui-text-color-deep-orange"},[t._v(t._s(t.purse_type[e.out_purse_type_id]))])]),t._v(" "),a("td",[t._v("进账身份："),a("span",{staticClass:"mdui-text-color-teal"},[t._v(t._s(t.user_type[e.into_user_type_id]))])]),t._v(" "),a("td",[t._v("进账钱包："),a("span",{staticClass:"mdui-text-color-teal"},[t._v(t._s(t.purse_type[e.into_purse_type_id]))])]),t._v(" "),a("td",[t._v("状态："),e.status?a("span",{staticClass:"mdui-text-color-green"},[t._v("启用")]):a("span",{staticClass:"mdui-text-color-red"},[t._v("禁用")])]),t._v(" "),a("td",{attrs:{colspan:"2"}},[t._v("备注："),a("span",{domProps:{textContent:t._s(e.remarks)}})])])]})],2)])]),t._v(" "),a("div",{staticClass:"mdui-dialog dialog_add"},[a("div",{staticClass:"mdui-dialog-title"},[t._v("\n\t\t\t转账 reason 新增/修改\n\t\t")]),t._v(" "),a("div",{staticClass:"mdui-dialog-content"},[a("form",[a("div",{staticClass:"mdui-container"},[t._v("\n\t\t\t\t\t所属商户：\n\t\t\t\t\t"),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.merchant_id,expression:"form.merchant_id"}],staticClass:"mdui-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"merchant_id",e.target.multiple?a:a[0])}}},t._l(t.merchant,function(e,i){return a("option",{domProps:{value:i}},[t._v(t._s(e))])}))]),t._v(" "),a("div",{staticClass:"mdui-container"},[a("div",{staticClass:"mdui-textfield"},[a("label",{staticClass:"mdui-textfield-label"},[t._v("转账行为名称")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"mdui-textfield-input",attrs:{type:"text",placeholder:"中文备注，用户查看流水时展示文案"},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"mdui-container mdui-p-y-2"},[t._v("\n\t\t\t\t\t出账身份类型：\n\t\t\t\t\t"),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.out_user_type_id,expression:"form.out_user_type_id"}],staticClass:"mdui-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"out_user_type_id",e.target.multiple?a:a[0])}}},t._l(t.user_type,function(e,i){return a("option",{domProps:{value:i}},[t._v(t._s(e))])})),t._v("\n\t\t\t\t\t　　　　\n\t\t\t\t\t出账钱包类型：\n\t\t\t\t\t"),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.out_purse_type_id,expression:"form.out_purse_type_id"}],staticClass:"mdui-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"out_purse_type_id",e.target.multiple?a:a[0])}}},t._l(t.purse_type,function(e,i){return a("option",{domProps:{value:i}},[t._v(t._s(e))])}))]),t._v(" "),a("div",{staticClass:"mdui-container mdui-p-y-2"},[t._v("\n\t\t\t\t\t进账身份类型：\n\t\t\t\t\t"),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.into_user_type_id,expression:"form.into_user_type_id"}],staticClass:"mdui-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"into_user_type_id",e.target.multiple?a:a[0])}}},t._l(t.user_type,function(e,i){return a("option",{domProps:{value:i}},[t._v(t._s(e))])})),t._v("\n\t\t\t\t\t　　　　\n\t\t\t\t\t进账钱包类型：\n\t\t\t\t\t"),a("select",{directives:[{name:"model",rawName:"v-model",value:t.form.into_purse_type_id,expression:"form.into_purse_type_id"}],staticClass:"mdui-select",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(t.form,"into_purse_type_id",e.target.multiple?a:a[0])}}},t._l(t.purse_type,function(e,i){return a("option",{domProps:{value:i}},[t._v(t._s(e))])}))]),t._v(" "),a("div",{staticClass:"mdui-container"},[a("div",{staticClass:"mdui-textfield"},[a("label",{staticClass:"mdui-textfield-label"},[t._v("reason 代码")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.reason,expression:"form.reason"}],staticClass:"mdui-textfield-input",attrs:{type:"text",placeholder:"新增时自动生成"},domProps:{value:t.form.reason},on:{input:function(e){e.target.composing||t.$set(t.form,"reason",e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"mdui-container"},[a("label",{staticClass:"mdui-radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.status,expression:"form.status"}],attrs:{type:"radio",name:"status",value:"1"},domProps:{checked:!!t.form.status,checked:t._q(t.form.status,"1")},on:{change:function(e){t.$set(t.form,"status","1")}}}),t._v(" "),a("i",{staticClass:"mdui-radio-icon"}),t._v("\n\t\t\t\t\t\t启用\n\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"mdui-container"},[a("label",{staticClass:"mdui-radio"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.status,expression:"form.status"}],attrs:{type:"radio",name:"status",value:"0"},domProps:{checked:!t.form.status,checked:t._q(t.form.status,"0")},on:{change:function(e){t.$set(t.form,"status","0")}}}),t._v(" "),a("i",{staticClass:"mdui-radio-icon"}),t._v("\n\t\t\t\t\t\t禁用\n\t\t\t\t\t")])]),t._v(" "),a("div",{staticClass:"mdui-container"},[a("div",{staticClass:"mdui-textfield"},[a("label",{staticClass:"mdui-textfield-label"},[t._v("备注")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.form.remarks,expression:"form.remarks"}],staticClass:"mdui-textfield-input",attrs:{type:"text",placeholder:"后台详细备注"},domProps:{value:t.form.remarks},on:{input:function(e){e.target.composing||t.$set(t.form,"remarks",e.target.value)}}})])])])]),t._v(" "),a("div",{staticClass:"mdui-dialog-actions"},[a("a",{staticClass:"mdui-btn mdui-ripple",attrs:{"mdui-dialog-close":""}},[t._v("取消")]),t._v(" "),a("a",{staticClass:"mdui-btn mdui-ripple mdui-color-theme",on:{click:t.add_submit}},[t._v("提交")])])]),t._v(" "),a("div",{staticClass:"mdui-color-white footer"},[a("pagination",{attrs:{pageInfo:{total:t.list.total,current:t.list.current_page,pagenum:t.list.per_page,page:t.list.last_page,pagegroup:9,skin:"#2196F3"}},on:{change:t.search}})],1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",[t._v("#")]),t._v(" "),a("th",[t._v("ID")]),t._v(" "),a("th",[t._v("所属商户")]),t._v(" "),a("th",[t._v("转账行为名称")]),t._v(" "),a("th",[t._v("reason 代码")]),t._v(" "),a("th",[t._v("创建时间")]),t._v(" "),a("th",[t._v("修改时间")]),t._v(" "),a("th",[t._v("操作")])])])}]}},345:function(t,e,a){var i=a(1)(a(303),a(304),!1,null,null,null);t.exports=i.exports}});